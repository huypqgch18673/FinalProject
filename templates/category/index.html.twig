{% extends 'base.html.twig' %}

{% block body %}
<div class="container col-md-11 mt-4 text-center">
{# nhận message gửi từ controller #}
{% for flash in app.flashes("Success") %}
    <p class="alert alert-primary">{{ flash }}</p>
{% endfor %}
{% for flash in app.flashes("Error") %}
    <p class="alert alert-danger">{{ flash }}</p>
{% endfor %}
	<br>
	<div class="container">
		<div class="card">
			<div class="card-header"> 
			<h4 class="card-title">List of Categories
				
			</h4>
			<a href="{{ path ('category_add') }}" class="btn btn-primary float-right py-2"> ADD NEW CATEGORY</a>
		</div>

		<table class="table">
			<tr>
				<th>Id</th>
				<th>Name</th>
				<th>Image</th>
				<th>Detail</th>
				<th>EDIT</th>
				<th>DELETE</th>
			</tr>
			{% for c in category %}
				<tr>
					<td>{{ c.id }}</td>
					<td>
						<a href="{{ path('category_detail' , { 'id': c.id }) }}">
							{{ c.name }}
						</a>
					</td>
					<td>
						<a href="{{ path('category_detail' , { 'id': c.id }) }}">
							<img src="{{ c.image }}" width="200" height="200">
						</a>
					</td>
					
					<td>
						<a class="btn btn-info" href="{{ path('category_detail' , { 'id': c.id }) }}">Detail</a>
					</td>
					{# {%if is_granted("ROLE_ADMIN") %} #}
					<td><a class="btn btn-warning" href="{{ path('category_edit', { 'id': c.id }) }}">Edit</a></td>
					<td><a class="btn btn-danger" href="{{ path('category_delete', { 'id': c.id }) }}" onclick="return confirm('Do you want to delete this category ?')">Delete</a></td>
					{# {% endif %} #}
				</tr>
			{% endfor %}
		</table>
	</div>
</div>
{% endblock %}
